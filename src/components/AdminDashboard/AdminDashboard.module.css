/* === 0. Design Tokens (Fiesta Light Theme) === */
:root {
  /* Layout */
  --sidebar-w: 260px; /* default expanded */
  --sidebar-w-collapsed: 72px;

  /* Surfaces */
  --bg-1: #f6f8fb;
  --bg-2: #ffffff;
  --bg-3: #f1f5f9;

  /* Text */
  --txt-1: #0f172a;
  --txt-2: #475569;

  /* Fiesta Brand */
  --brand: #e3342f;
  --brand-600: #cc2e2a;
  --brand-700: #b42825;
  --gold: #ffcc33;
  --gold-700: #e0b124;

  /* Status */
  --info: #2563eb;
  --success: #16a34a;
  --warn: #f59e0b;

  /* Lines & effects */
  --muted: #e2e8f0;
  --ring: rgba(255, 204, 51, 0.45);
  --radius: 12px;
  --shadow-1: 0 12px 24px rgba(15, 23, 42, 0.08);
  --shadow-2: 0 2px 10px rgba(15, 23, 42, 0.06);
  --transition: 180ms cubic-bezier(.2,.7,.3,1);
}

/* When collapsed, switch the effective width variable via attribute */
.dashboardContainer[data-collapsed="true"] {
  --sidebar-w: var(--sidebar-w-collapsed);
}

/* === 1. Main Layout & Theme === */
.dashboardContainer {
  min-height: 100vh;
  background:
    radial-gradient(1000px 600px at 10% -10%, #ffffff 0%, var(--bg-1) 50%) fixed;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Main content that respects the fixed sidebar width */
.withSidebar {
  margin-left: var(--sidebar-w);
}

.main {
  min-height: 100vh;
  padding: clamp(20px, 3vw, 40px);
  color: var(--txt-1);
  background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0));
  /* Let the page scroll; sidebar stays fixed */
}

/* === 2. Sidebar (FIXED + width) === */
.sidebar {
  position: fixed;
  inset: 0 auto 0 0;     /* top/right/bottom/left */
  height: 100vh;
  width: var(--sidebar-w);
  background-color: #2c3e50;
  color: #ecf0f1;
  display: flex;
  flex-direction: column;
  padding: 1rem .75rem;
  border-right: 1px solid #34495e;
  z-index: 100;         /* above main scroll */
  overflow-y: auto;
}

.sidebarTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
}

.logo {
  width: 48px;
  height: 48px;
  object-fit: contain;
  margin: .25rem .25rem .5rem .25rem;
}

.collapseBtn {
  appearance: none;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.08);
  color: #fff;
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
  transition: transform var(--transition), background var(--transition), border-color var(--transition);
}
.collapseBtn:hover { transform: translateY(-1px); background: rgba(255,255,255,.14); }

.sidebarTitle {
  text-align: left;
  color: white;
  border-bottom: 1px solid #34495e;
  padding: .6rem .25rem;
  margin: 0 0 .75rem 0;
  font-weight: 800;
  letter-spacing: .2px;
}

/* Nav */
.nav {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex-grow: 1;
  padding: 0 .25rem;
}

.navLink {
  text-decoration: none;
  padding: 12px 14px;
  border-radius: 10px;
  transition: background-color var(--transition), transform var(--transition);
  color: #ecf0f1;
  will-change: transform;
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.navLink:hover { background-color: #34495e; transform: translateY(-1px); }

.activeLink {
  composes: navLink;
  background-color: #e74c3c;
  color: #ffffff;
}

/* Footer / Logout */
.logoutSection {
  margin-top: 1rem;
  padding: 0 .25rem .5rem .25rem;
}
.logoutButton {
  width: 100%;
  appearance: none;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 12px;
  padding: 10px 16px;
  font-size: .95rem;
  font-weight: 800;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition), border-color var(--transition);
  box-shadow: var(--shadow-2);
  background: linear-gradient(180deg, var(--brand) 0%, var(--brand-700) 100%);
  color: #fff;
}
.logoutButton:hover { transform: translateY(-1px); }

/* === 3. Page Header & Actions === */
.pageHeader {
  display: flex;
  gap: 1rem;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.25rem;
}
.pageHeader h1 {
  margin: 0;
  color: var(--txt-1);
  letter-spacing: .2px;
  font-size: clamp(1.25rem, 2vw, 1.75rem);
  font-weight: 800;
}

/* Month/Year selector â€“ Fiesta pill */
.monthSelector {
  padding: 12px 16px;
  font-size: 1rem;
  font-weight: 800;
  background: linear-gradient(180deg, var(--brand) 0%, var(--brand-700) 100%);
  color: #fff;
  border: 1px solid rgba(0,0,0,0.05);
  border-radius: 999px;
  outline: none;
  cursor: pointer;
  box-shadow: var(--shadow-2);
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
}
.monthSelector:hover { transform: translateY(-1px); }
.monthSelector:focus-visible { box-shadow: 0 0 0 3px var(--ring); }
.monthSelector option { background-color: #ffffff; color: var(--txt-1); }


/* === 4. Summary Cards (NEW STYLES) === */
.summaryCards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: clamp(12px, 1.5vw, 20px);
  margin-bottom: 1.5rem;
}

.summaryCard {
  background-color: var(--bg-2);
  border: 1px solid var(--muted);
  border-radius: var(--radius);
  padding: 1rem;
  text-align: center;
  box-shadow: var(--shadow-2);
  transition: all 0.2s ease-in-out;
}

.summaryCard:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-1);
}

.summaryCardTitle {
  font-weight: 600;
  color: var(--txt-2);
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  font-size: 0.875rem;
}

.summaryCardBig {
  font-size: 1.875rem;
  font-weight: 800;
  color: var(--txt-1);
  margin: 0;
}

.summaryCardMid {
  font-size: 1.125rem;
  font-weight: 600;
  color: #1f2937;
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

.dim {
  font-size: 0.75rem;
  font-weight: 500;
  color: #6b7280;
}

/* Special style for the "Grand Total" card */
.summaryCardHighlight {
  border: 2px solid var(--success);
}

.summaryCardHighlight .summaryCardTitle {
  background-color: var(--success);
  color: #ffffff;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  margin-top: -0.25rem;
  display: inline-block;
}


/* === 5. Filters === */
.filters { display: flex; gap: .75rem; flex-wrap: wrap; }
.filters select,
.filters .chip {
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--muted);
  background-color: var(--bg-2);
  color: var(--txt-1);
  font-size: .95rem;
  transition: border-color var(--transition), transform var(--transition);
}
.filters select:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ring); border-color: var(--gold-700); }
.filters .chip:hover { transform: translateY(-1px); }

/* === 6. Tables (light, high-contrast) === */
.ticketsTable {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--bg-2);
  border: 1px solid var(--muted);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-2);
}
.ticketsTable thead th {
  position: sticky; top: 0; z-index: 1;
  background: var(--bg-3);
  color: var(--txt-1);
  font-weight: 900;
  letter-spacing: .35px;
  text-transform: uppercase;
  font-size: 0.85rem;
  border-bottom: 2px solid var(--brand);
}
.ticketsTable th, .ticketsTable td {
  padding: 14px 16px;
  text-align: left;
  border-bottom: 1px solid var(--muted);
  font-feature-settings: "tnum" 1, "lnum" 1;
}
.ticketsTable tbody tr:nth-child(odd) td { background: #ffffff; }
.ticketsTable tbody tr:nth-child(even) td { background: #fafafa; }
.ticketsTable tbody tr:hover td {
  background: #fff7e6;
  transition: background var(--transition);
}
.ticketsTable tbody tr:last-child td { border-bottom: none; }

/* Helpers */
.ticketsTable tbody td.is-num,
.num, .currency, .count { text-align: right !important; }
.currency::before { content: "$"; opacity: 0.9; margin-right: 2px; }
.is-label, .dim { color: var(--txt-2); }
.nowrap { white-space: nowrap; }

.totalRow td {
  font-weight: 900;
  background: #fff3cd !important;
  color: #1f2937 !important;
  border-top: 2px solid var(--brand);
}

/* === 7. Buttons & Modals (unchanged styles) === */
/* ... keep your previous button, modal, forms, region styles as-is ... */

/* === 8. Motion preferences === */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* === 9. Small-screen behavior === */
/* On very small screens, let the sidebar overlay and remove the left margin. */
@media (max-width: 768px) {
  .withSidebar { margin-left: 0; }
  .sidebar {
    position: fixed;
    transform: translateX(0);
    width: var(--sidebar-w); /* still responsive if collapsed */
  }
}
